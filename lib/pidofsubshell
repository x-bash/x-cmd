case "$___X_CMD_SHELL" in
    bash)
___x_cmd_pidofsubshell(){
    $SHELL -c 'printf "%s\n" "$PPID"'
}
    ;;

    zsh)
___x_cmd_pidofsubshell(){
    sh -c 'printf "%s\n" "$PPID"'
}
    ;;

    dash)
___x_cmd_pidofsubshell(){
    /bin/dash -c 'printf "%s\n" "$PPID"'
}
    ;;

    ash)
___x_cmd_pidofsubshell(){
    ash -c 'printf "%s\n" "$PPID"'
}
    ;;

    *)
___x_cmd_pidofsubshell(){
    "$0" -c 'printf "%s\n" "$PPID"'
}
    ;;
esac
